# Date 对象
`Date` 对象是 JavaScript 原生的时间库。它以1970年1月1日00:00:00作为时间的零点，可以表示的时间范围是前后各1亿天 (单位是毫秒)。
## 普通函数的用法
`Date` 对象可以作为普通函数直接调用，返回一个代表当前时间的字符串。
```
console.log(Date());   // Fri Nov 09 2018 15:57:35 GMT+0800 
```
注意，即使带有参数，`Date` 作为普通函数使用时，返回的还是当前时间。
```
console.log(Date(2000, 1 ,1));   // Fri Nov 09 2018 16:01:24 GMT+0800
```
上面代码说明，无论有没有参数，直接调用 `Date` 总是返回当前时间。
## 构造函数的使用
`Date` 还可以当作构造函数使用。对它使用 `new` 命令，会返回一个 `Date` 对象的实例。如果不加参数，实例代表的就是当前时间。
```
var today = new Date();
console.log(today);   // Fri Nov 09 2018 16:04:35 GMT+0800
```
`Date` 实例有一个独特的地方。其他对象求值的时候，都是默认调用 `.valueOf` 方法，但是 `Date` 实例求值的时候，默认调用的是 `toString()` 方法。这导致对 `Date` 实例求值，返回的是一个字符串，代表该实例对应的时间。
```
var today = new Date();

today   // Fri Nov 09 2018 16:07:54 GMT+0800

# 等同于
today.toString()
```
上面代码中，`toDay` 是 `Date` 的实例，直接求值等同于调用 `toString` 方法。

作为构造函数时，`Date` 对象可以接收多种格式的参数，返回一个该参数对应的时间实例。
```
# 参数为时间零点开始计算的毫秒数
console.log(new Date(1378218728000));   // Tue Sep 03 2013 22:32:08 GMT+0800

# 参数为日期字符串
console.log(new Date('January 6, 2013'));   // Sun Jan 06 2013 00:00:00 GMT+0800

# 参数为多个整数，分别代表年、月、日、时、分、秒、毫秒
console.log(new Date(2013, 0, 1, 0, 0, 0, 0));   // Tue Jan 01 2013 00:00:00 GMT+0800
```
关于 `Date` 构造函数的参数，有几点说明。

第一点，参数可以是负整数，代表1970年元旦之前的时间。

```
console.log(new Date(-1378218728000));   // Fri Apr 30 1926 17:27:52 GMT+0800
```
第二点，只要是能被 `Date.parse()` 方法解析的字符串，都可以当作参数。
```
new Date('2013-2-15')
new Date('2013/2/15')
new Date('2013-FEB-15')
new Date('FEB, 15, 2013')
new Date('FEB 15,2013')
new Date('Feberuary, 15, 2013')
new Date('Feberuary 15, 2013')
new Date('15 Feb 2013')
new Date('15, Feberuary, 2013')

// Fri Feb 15 2013 00:00:00 GMT+0800
```
上面多种日期字符串的写法，返回的都是同一个时间。

第三，参数为年、月、日等多个整数时，年和月食不能省略的，其他参数都可以省略。也就是说，这时至少需要俩个参数，因为如果只使用 "年" 这一个参数，`Date` 会将其解释为毫秒数。
```
console.log(new Date(2018));   // Thu Jan 01 1970 08:00:02 GMT+0800
```
上面代码中，2018 被解释成毫秒数，而不是年份。
```
new Date(2018, 0)
new Date(2018, 0, 1)
new Date(2018, 0, 1, 0)
new Date(2018, 0, 1, 0, 0, 0, 0)

// Mon Jan 01 2018 00:00:00 GMT+0800
```
上面代码中，不管有几个参数，返回的都是2018年1月1日零点。
最后，各个参数的取值范围如下。
+ 年: 使用四位数年份，比如 `2018`。如果写成俩位数或个位数，则加上 `1900`，即 `10` 代表 1910 年。如果是负数，表示公元前。
+ 月: `0` 表示一月，依次类推，`11` 代表 12 月。
+ 日: `1` 到 `31`。
+ 时: `0` 到 `23`。
+ 分: `0` 到 `59`。
+ 秒: `0` 到 `59`。
+ 毫秒: `0` 到 `999`。

注意，天数从 `1` 开始计算。月、时、分、秒、毫秒全部从 `0` 开始计算。

这些参数如果超出了正常范围，会被自动折算。比如，如果月份设为 `15`，就折算为下一年的 `4` 月。
```
console.log(new Date(2018, 15));   // Mon Apr 01 2019 00:00:00 GMT+0800

console.log(new Date(2018, 0, 0));   // Sun Dec 31 2017 00:00:00 GMT+0800
```
上面第一行代码设置月份月15，就折算成明年的 `4` 月 (注意，`11` 代表 `12` 月)，第二行代码日期设置为0，就折算上个月的最后一天。

参数还可以使用负数，表示扣去的时间。
```
console.log(new Date(2018, -1));   // Fri Dec 01 2017 00:00:00 GMT+0800

console.log(new Date(2018, 0, -1));   // Fri Dec 01 2017 00:00:00 GMT+0800
```
上面代码中，分别对月和日使用了负数，表示从基准日扣去相应的时间。
## 日期的运算
类型自动转换时，`Date` 实例如果转为数值，则等于对应的毫秒数；如果转为字符串，则等于对应的日期字符串。所以，俩个日期实例对象进行减法运算时，返回的是它们间隔的毫秒数，返回的是俩个字符串连接而成的新字符串。
```
var d1 = new Date(2018, 0, 1);
var d2 = new Date(2018, 0, 2);
console.log(d2 - d1);   // 86400000
console.log(d1 + d2);   // Mon Jan 01 2018 00:00:00 GMT+0800 Tue Jan 02 2018 00:00:00 GMT+0800
```

