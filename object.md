# 对象
## 概述
### 生成方法
对象 (object) 是 JavaScript 语言的核心概念，也是最重要的数据类型。

什么是对象？简单说，对象就是一组 "键值对" ( key - value ) 的集合，是一种无序的数据集合。
```
var obj = {
	foo: 'hello',
	bar: 'world'
};
```
上面代码中，大括号就定义了一个对象，它被赋值给变量 `obj`，所以变量 `obj` 就指向一个对象。该对象内部包含俩个键值对 (又称为俩个"成员")，第一个键值对是 `foo: 'hello'`，其中 `foo` 是键名 ( 成员的名称 )，字符串 `hello` 是键值 ( 成员的值 )。键名与键值之间用冒号分隔。俩个键值对之间用逗号分隔。
### 键名
对象的键名都是字符串，所以加不加引号都可以。上面的代码也可以写成下面这样。
```
var obj = {
	'foo': 'hello',
	'bar': 'world'
}
```
如果键名是数值，会被自动转为字符串。
```
var obj = {
    1: 'a'
}
console.log(obj['1']);   // a
```
上面代码中，对象 `obj` 的所有键名虽然看上去像数值，实际上都被自动转成了字符串。
如果键名不符合标识名的条件 ( 比如第一个字符为数字，或者含有空格或者运算符 )，且也不是数字，则必须加上引号，否则会报错。
```
# 报错
var obj = {
	1p: 'hello'
}

# 不报错
var obj = {
	'1 p': 'hello',
	'h w': 'hello',
	'p + q': 'hello'
}
```
上面对象的三个键名，都不符合标识名的条件，所以必须加上引号。

对象的每一个键名又称为 "属性"，它的 "键值" 可以是任何数据类型。如果一个属性的值为函数，通常把这个属性称为 "方法"，它可以像函数那样调用。
```
var obj = {
	p: function(x){
		return x * 2;
	}
}
console.log(obj.p(2));   // 4
```
上面的代码中，对象 `obj` 的属性 `p`，就指向了一个函数。

如果属性的值还是一个对象，就形成了链式引用。
```
var o1 = {};
var o2 = {bar: 'hello'};
o1.foo = o2;
console.log(o1.foo.bar);   // hello
```
上面代码中，对象 `o1` 的属性 `foo` 指向对象 `o2`，就可以链式引用 `o2` 的属性。

对象的属性之间用逗号分隔，最后一个属性后面可以加逗号，也可以不加。
```
var obj = {
	a: 1,
	p: function () {...},
}
```
上面的代码中，`m` 属性后面的那个逗号，有没有都可以。

属性可以动态创建，不必在对象声明时就指定。
```
var obj = {};
obj.foo = 123;
console.log(obj.foo);   // 123
```
上面代码中，直接对 `obj` 对象的 `foo` 属性赋值，结果就在运行时创建了 `foo`属性。
### 对象的引用
如果不同的变量名指向同一个对象，那么它们都是这个对象的引用，也就是说指向同一个内存地址。修改其中一个变量，会影响到其他所有变量。
```
var o1 = {};
var o2 = o1;

o1.a = 1;
console.log(o2.a);   // 1

o2.b = 2;
console.log(o1.b);   // 2

console.log(o1);   // {a: 1, b: 2}
console.log(o2);   // {a: 1, b: 2}
```
上面代码中，`o1` 和 `o2`指向同一个对象，因此为其中任何一个变量添加属性，另一个变量都可以读写该属性。

此时，如果取消某一个变量对于原对象的引用，不会影响到另一个变量。
```
var o1 = {};
var o2 = o1;

o1.a = 1;
o2.b = 2;

console.log(o1);   // {a: 1, b: 2}
console.log(o2);   // {a: 1, b: 2}

o1 = 1;
console.log(o1);   // 1
console.log(o2);   // {a: 1, b: 2}
```
